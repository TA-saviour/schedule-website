<!DOCTYPE html>
<html>

<head>
	<title>CISC325</title>
	<meta charset="utf-8" />
	<meta name="Yu" content=""/>
	<link href="https://fonts.googleapis.com/css?family=PT+Serif|Josefin+Sans" rel="stylesheet"> 
	<link rel="stylesheet" href="css/style.css">		
	<link rel="stylesheet" href="css/responsive.css">
	<link rel="stylesheet" href="css/studentPage.css">
	<script src="./js/data.js"></script>
</head>

<body>
	<header>
		<nav>
			<ul>		
				<li><a href="./index.html">Home</a></li>
				<li><a href="./login.html">Login</a></li>
			</ul>		
		</nav>
	</header>

	<article id="main-content">
		<h2 id = "greating"></h2>
		<div id = "main">
			<table id = "event" align = "center">
				<col width = "50%">
				<col width = "30%">
				<col width = "20%">
				<tr>
					<th colspan = "3">Upcoming appointment</th>
				</tr>
				<tr id = "title">
					<td>Date</td>
					<td>Time</td>
					<td>Instructor</td>
				</tr>
				<tr>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td></td>
					<td></td>
					<td></td>
				</tr>
			</table>
		</div>
	</article> <!-- #main-content -->
	
	<script>
		var user = sessionStorage.getItem("user");
		document.getElementById("greating").innerHTML = "Welcome, " + user;
		
		var temp1 = sessionStorage.getItem("eventData").split("//");
		var temp2 = [];
		var temp3 = [];
		for(var i = 1;i<temp1.length;i++){
			temp2.push(temp1[i].split(","));
		}
		
		for(var i = 0;i<temp2.length;i++){
			var a = temp2[i][0];//name
			var b = temp2[i][1];//date
			var c = temp2[i][2];//TA
			var d = temp2[i][3]//time
			if(a == user.split(" ")[0]){
				temp3.push([a,b,c,d]);
			}
		}
		
		var time = [];
		for(var i = 0;i<temp3.length;i++){
			var temp = temp3[i][1].split("-");
			var str = "";
			time.push(str.concat(temp[0],temp[1],temp[2]));
		}
		
		time.sort(function(a, b){return a - b});
		var table = document.getElementById("event");
		for(var i=0;i<time.length;i++){
			for(var j=0;j<time.length;j++){
				var str = "";
				var subs = temp3[j][1].split("-");
				if(time[i] == str.concat(subs[0],subs[1],subs[2])){
					table.rows[i+2].cells[0].innerHTML = temp3[j][1];
					table.rows[i+2].cells[1].innerHTML = temp3[j][3];
					table.rows[i+2].cells[2].innerHTML = temp3[j][2];
				}
			}
		}
	</script>
	
	<footer>
	</footer>
	
</body>
</html>
