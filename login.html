<!DOCTYPE html>
<html>

<head>
	<title>CISC325</title>
	<meta charset="utf-8" />
	<meta name="Yu" content=""/>
	<link href="https://fonts.googleapis.com/css?family=PT+Serif|Josefin+Sans" rel="stylesheet"> 
	<link rel="stylesheet" href="css/style.css">		
	<link rel="stylesheet" href="css/responsive.css">	
	<link rel="stylesheet" href="css/login.css">
</head>

<body>
	<header>
		<nav>
			<ul>		
				<li><a href="./index.html">Home</a></li>
				<li id = "login"><a href="./login.html">Login</a></li>
				<li id = "logoff" onclick = "
					if (sessionStorage.getItem('user')){
						sessionStorage.removeItem('user');
						alert('You have successfully logged out!');
					} else {
						alert('You have not logged in yet!');
					}
					"><a href="./index.html">Logout</a>
				</li>
			</ul>		
		</nav>
	</header>

	<article id="main-content">
		
		<h1>Login</h1>

			<div>
				<label for="fname">First name:</label>
				<input type="text" id="fname" name="fname"><br><br>
				<label for="lname">Last name:</label>
				<input type="text" id="lname" name="lname"><br><br>
				<button style ="border-radius: 15%;" ; class="loginButton" onclick = "login()">Login</button>
			</div>

			<p>Submit full name to log in.</p>
			
			<p> TA names includes: Jane Clark, Jack Ma, Kate Barr</p>
		
		
	
	</article> <!-- #main-content -->
	<script>if (sessionStorage.getItem('user')){
				document.getElementById("login").style.display = "none";
			} else {
				document.getElementById("logoff").style.display = "none";
			}
		
		var taList = ["Jane Clark","Jack Ma","Kate Barr"];
		
		function login(){
			if (sessionStorage.getItem("user")){
				alert("You have already logged in!");
				window.location.href = "./index.html";
				return ;
			}
			var userName =  document.getElementById("fname").value + " " + document.getElementById("lname").value;
			sessionStorage.setItem("user",userName);
			var flag = false;
			for (var i = 0; i < taList.length; i ++){
				if (userName.toUpperCase() == taList[i].toUpperCase()){
					sessionStorage.setItem("TA", true);
					window.location.href = "./instructorSchedule.html";
					flag = true;
					break;
				}
			}
			if (flag == false){
				if (sessionStorage.getItem("TA")) sessionStorage.removeItem('TA');
				window.location.href = "./studentSchedule.html";
			}
		}
	</script>
	<footer>
		<a href="https://queensu.ca">
				<img src="./img/queensu.jpg" alt="queens university"/>
		</a>
	</footer>
	
</body>
</html>
